# DeepLens Infrastructure - Environment Configuration
# Development environment variables for local Docker setup

# =============================================================================
# Database Credentials (CHANGE FOR PRODUCTION!)
# =============================================================================

# PostgreSQL Configuration
POSTGRES_USER=deeplens
POSTGRES_PASSWORD=DeepLens123!
POSTGRES_DB=deeplens
POSTGRES_IDENTITY_DB=nextgen_identity
POSTGRES_METADATA_DB=deeplens_metadata

# =============================================================================
# InfluxDB Configuration  
# =============================================================================
INFLUXDB_ADMIN_USER=admin
INFLUXDB_ADMIN_PASSWORD=DeepLens123!
INFLUXDB_ADMIN_TOKEN=deeplens-admin-token-change-me-in-production-12345678901234567890
INFLUXDB_ORG=deeplens
INFLUXDB_BUCKET=metrics

# =============================================================================
# Kafka Configuration
# =============================================================================
KAFKA_BROKER_ID=1
KAFKA_ZOOKEEPER_CONNECT=zookeeper:2181
KAFKA_ADVERTISED_LISTENERS=PLAINTEXT://localhost:9092
KAFKA_AUTO_CREATE_TOPICS_ENABLE=true
KAFKA_NUM_PARTITIONS=3
KAFKA_DEFAULT_REPLICATION_FACTOR=1

# =============================================================================
# Redis Configuration
# =============================================================================
REDIS_PASSWORD=DeepLens123!

# =============================================================================
# Qdrant Configuration
# =============================================================================
QDRANT_API_KEY=deeplens-qdrant-api-key-change-me-in-production

# =============================================================================
# MinIO Configuration
# =============================================================================
MINIO_ROOT_USER=deeplens
MINIO_ROOT_PASSWORD=DeepLens123!

# =============================================================================
# Network Configuration
# =============================================================================
NETWORK_NAME=deeplens-network

# =============================================================================
# Volume Configuration
# =============================================================================
POSTGRES_VOLUME=deeplens_postgres_data
QDRANT_VOLUME=deeplens_qdrant_data
INFLUXDB_VOLUME=deeplens_influxdb_data
KAFKA_VOLUME=deeplens_kafka_data
ZOOKEEPER_VOLUME=deeplens_zookeeper_data
REDIS_VOLUME=deeplens_redis_data

# =============================================================================
# Infisical Secret Management Configuration
# =============================================================================
INFISICAL_DB_USER=infisical
INFISICAL_DB_PASSWORD=InfisicalDb123!
INFISICAL_DB_NAME=infisical

# IMPORTANT: Change these keys in production!
INFISICAL_ENCRYPTION_KEY=your-32-character-encryption-key-here-change-me-prod
INFISICAL_JWT_SIGNUP_SECRET=your-jwt-signup-secret-change-me-in-production-env
INFISICAL_JWT_REFRESH_SECRET=your-jwt-refresh-secret-change-me-in-production-env
INFISICAL_JWT_AUTH_SECRET=your-jwt-auth-secret-change-me-in-production-environment
INFISICAL_JWT_SERVICE_SECRET=your-jwt-service-secret-change-me-in-production-env

# Infisical Application Settings
INFISICAL_SITE_URL=http://localhost:8082
INFISICAL_SMTP_HOST=
INFISICAL_SMTP_USERNAME=
INFISICAL_SMTP_PASSWORD=
INFISICAL_SMTP_PORT=587
INFISICAL_SMTP_SECURE=false
INFISICAL_SMTP_FROM=noreply@deeplens.local
INFISICAL_SMTP_FROM_NAME=DeepLens Infisical

# =============================================================================
# Service Configuration
# =============================================================================

# Resource Limits (for production tuning)
POSTGRES_MAX_CONNECTIONS=100
POSTGRES_SHARED_BUFFERS=256MB
POSTGRES_EFFECTIVE_CACHE_SIZE=1GB

QDRANT_MAX_MEMORY=2GB
REDIS_MAX_MEMORY=512MB

# =============================================================================
# Monitoring & Visualization Configuration
# =============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=DeepLens123!

# Prometheus Configuration
PROMETHEUS_RETENTION_TIME=30d
PROMETHEUS_RETENTION_SIZE=10GB

# AlertManager Configuration
ALERTMANAGER_SLACK_WEBHOOK=
ALERTMANAGER_EMAIL_TO=admin@deeplens.local
ALERTMANAGER_EMAIL_FROM=alerts@deeplens.local

# Loki Configuration
LOKI_RETENTION_PERIOD=720h
LOKI_MAX_STREAMS_PER_USER=10000

# OpenTelemetry Collector Configuration
OTEL_MEMORY_LIMIT_MIB=512
OTEL_BATCH_TIMEOUT=1s
OTEL_LOG_LEVEL=info

# =============================================================================
# Development Flags
# =============================================================================
ENVIRONMENT=development
DEBUG_MODE=true
LOG_LEVEL=debug